<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test JSInputEquipment</title>
  <script>
    var JSInputEquipment = {
      getState: function() {
        const selected = document.getElementById("dropdown").value;
        return JSON.stringify({ selectedChoice: selected });
      },
      setState: function(stateStr) {
        var state = JSON.parse(stateStr);
        document.getElementById("dropdown").value = state.selectedChoice;
      },
      getGrade: function() {
        var selected = document.getElementById("dropdown").value;
        console.log("R√©ponse s√©lectionn√©e :", selected);
        return JSON.stringify({ answer: selected });
      }
    };

    // üîÅ Activer la d√©tection de changement pour EdX
    window.addEventListener("load", function () {
      const dropdown = document.getElementById("dropdown");
      dropdown.addEventListener("change", function () {
        if (parent !== window) {
          parent.postMessage("inputValueChanged", "*");
        }
      });
    });
  </script>

  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 10px;
    }
    label {
      font-weight: bold;
    }
    select {
      margin-top: 8px;
      padding: 4px;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <label for="dropdown">Choisissez un √©quipement :</label><br>
  <select id="dropdown">
    <option value="">-- Choisir --</option>
    <option value="Micror√©acteur">Micror√©acteur</option>
    <option value="Extracteur centrifuge">Extracteur centrifuge</option>
    <option value="R√©acteur √† disque tournant">R√©acteur √† disque tournant</option>
    <option value="Colonne garnie rotative">Colonne garnie rotative</option>
  </select>
</body>
</html>
